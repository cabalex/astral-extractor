<!DOCTYPE html>
<html>
<head>
	<title>Astral Extractor</title>
</head>
<body>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
	<div id="topBar">
		<ul style="list-style: none; display: flex; flex-direction: row; align-items: center; padding-left:0">
			<li class="heading" id="title" style="padding: 1em">
				<a style="color: #ffffff; text-decoration: none; background-color: #0063db; padding: 1em" href="https://cabalex.github.io"><b>cabalex.github.io</b></a>
			</li>
			<li>
				<a href="https://astralchain.nintendo.com/introduction/"><image src="https://www.nintendo.co.jp/switch/ab48a/assets/images/common/logo/software_flat.png" height="40px"></image></a>
			</li>
			<a href="https://github.com/cabalex/astral-extractor/" id="homepage"><li class="heading" style="padding: 1em">
				<b id='name'>astral extractor</b>
			</li></a>
			<a title="Get help with the editor." id="help" onclick="alert('Help menu coming soon!')"><li><img src="assets/help.png" height="50px"></li></a>
			<a title="Report an issue." onclick="window.open('https://github.com/cabalex/astral-extractor/issues')" id="issue"><li><img src="assets/issue.png" height="50px"></li></a>
		</ul>
	</div>
	<div class="sideBar" style="width: 180px; left: 0; overflow-y: hidden;">
		<div class="newHeading">
			<a href="https://cabalex.github.io"><b>cabalex.github.io</b></a>
		</div>
		<ul id="sideBarContents" style="list-style: none; padding-left:5px; overflow-y: auto; overflow-x: hidden; margin-top: 0; max-height: calc(100% - 120px)">
			<li style="padding-top: 5px"></li>
			<li style="background-color: #3C3744"><a href="#content"><img src="assets/marker-1.png" height="30px">Top</a></li>
		</ul>
		<div class="newFooter">
			<a ondrop="dropHandler(event);" onclick="$('#upload').trigger('click');" ondragover="dragOverHandler(event);" href="#initial"><b><span class="material-icons">add</span>add more</b></a>
		</div>
	</div>
	<div style="margin-top: 50px"></div>
	<div id="workspace">
		<div id="content">
			<div style="margin-top: 25px"></div>
		</div>
		<div id="initial" style="margin-top: 100px">
			<input type="file" id="upload" multiple style="display:none"/> 
			<div id="drop_zone" ondrop="dropHandler(event);" onclick="$('#upload').trigger('click');" ondragover="dragOverHandler(event);">
				<div id="drop_zone_headings">
					<h1>Astral Extractor</h1>
					<h4>A web based, client-side extractor for Astral Chain</h4>
					<h3>Astral Extractor is still in alpha! I'm still working out the quirks.</h3>
				</div>
				<p id="dropMessage">Drag and drop or click to upload...</p>
				<br>
				<p>Supported files: <p id="supportedFiles" style="font-family: Consolas, sans-serif"></p></p>
				<p>Planned files: <p style="font-family: Consolas, sans-serif">.bxm, .wta, .wtp, .wtb, .bin</p></p>
			</div>
			<br>
			<p style="margin-left: 10px">Thanks to <a href="https://gildas-lormeau.github.io/zip.js/index.html">ZIPJS</a>, <a href="https://github.com/eligrey/FileSaver.js/">FileSaver.js</a>, <a href="https://github.com/donmccurdy/zstddec">zstddec</a>, and countless Astral Chain related repositories</p>
			<p style="margin-left: 10px">Astral Extractor created by Cabalex - Try my other modding tools! <a href="https://github.com/cabalex/AstralChain2Blender">AstralChain2Blender</a> - <a href="https://github.com/cabalex/Blender2AstralChain">Blender2AstralChain</a> - <a href="https://cabalex.github.io/astral-chain-romfs/">RomFS Documentation</a></p>
			<p style="margin-left: 10px">Special thanks to the NieR modding community and r/AstralChain</p>
		</div>
	</div>
	<dialog open id="alert">
		<dialog open id="alert-title">
			<h1>Hold on...</h1>
		</dialog>
	</dialog>
	<!-- external libraries -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="scripts/zstd.js" type="text/javascript"></script>
	<script src="scripts/zip.min.js" type="text/javascript"></script>
	<script src="scripts/filesaver.min.js" type="text/javascript"></script>
	<script src="scripts/table.js" type="text/javascript"></script>
	<!-- fresh homemade scripts -->
	<script src="scripts/filetypes/dat.js" type="text/javascript"></script>
	<script src="scripts/filetypes/pkz.js" type="text/javascript"></script>
	<script src="scripts/filetypes/csv.js" type="text/javascript"></script>
	<script src="scripts/filetypes/bxm.js" type="text/javascript"></script>
	<script src="scripts/loader.js" type="text/javascript"></script>
	<!-- init -->
	<script type="text/javascript">
		console.log("Thanks for using my Astral Extractor!\n\nYou've really dug this deep, huh. I'm glad you like it :)\n\nGo boot up the game and pet your Beast Legion- you deserve it.")
		console.log("---")

		$("#name").text('astral extractor v0.4.1') // VERSION NUMBER

		
	</script>
</body>
</html>