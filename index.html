<!DOCTYPE html>
<html>
<head>
	<title>Astral Extractor</title>
</head>
<body>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
	<div id="topBar">
		<ul style="list-style: none; display: flex; flex-direction: row; align-items: center; padding-left:0">
			<li class="heading" id="title" style="padding: 1em">
				<a style="color: #ffffff; text-decoration: none; background-color: #0063db; padding: 1em" href="https://cabalex.github.io"><b>cabalex.github.io</b></a>
			</li>
			<li>
				<a href="https://astralchain.nintendo.com/introduction/"><image src="https://www.nintendo.co.jp/switch/ab48a/assets/images/common/logo/software_flat.png" height="40px"></image></a>
			</li>
			<a href="https://cabalex.github.io/astral-extractor/index.html" id="homepage"><li class="heading" style="padding: 1em">
				<b id='name'>astral extractor</b>
			</li></a>
		</ul>
	</div>
	<div class="sideBar" style="width: 180px; left: 0;">
		<div class="newHeading">
			<a href="https://cabalex.github.io"><b>cabalex.github.io</b></a>
		</div>
		<ul id="sideBarContents" style="list-style: none; padding-left:5px">
			<li><a href="#content"><img src="assets/marker-1.png" height="30px">Top</a></li>
		</ul>
		<div class="newFooter">
			<a ondrop="dropHandler(event);" onclick="$('#upload').trigger('click');" ondragover="dragOverHandler(event);" href="#initial"><b><span class="material-icons">add</span>add more</b></a>
		</div>
	</div>
	<div style="margin-top: 50px"></div>
	<div id="workspace">
		<div id="content">
			<div style="margin-top: 25px"></div>
		</div>
		<div id="initial" style="margin-top: 100px">
			<input type="file" id="upload" multiple style="display:none"/> 
			<div id="drop_zone" ondrop="dropHandler(event);" onclick="$('#upload').trigger('click');" ondragover="dragOverHandler(event);">
				<div id="drop_zone_headings">
					<h1>Astral Extractor</h1>
					<h4>A web based, client-side extractor for Astral Chain</h4>
					<h3>Astral Extractor is still in alpha! It probably doesn't work great.</h3>
				</div>
				<p id="dropMessage">Drag and drop or click to upload...</p>
				<br>
				<p>Supported files: <p id="supportedFiles" style="font-family: Consolas, sans-serif"></p></p>
				<p>Planned files: <p style="font-family: Consolas, sans-serif">.bxm, .wta, .wtp, .wtb, .bin</p></p>
			</div>
			<br>
			<p style="margin-left: 10px">Thanks to <a href="https://gildas-lormeau.github.io/zip.js/index.html">ZIPJS</a>, <a href="https://github.com/eligrey/FileSaver.js/">FileSaver.js</a>, <a href="https://github.com/donmccurdy/zstddec">zstddec</a>, and countless Astral Chain related repositories</p>
			<p style="margin-left: 10px">Astral Extractor created by Cabalex - Try my other modding tools! <a href="https://github.com/cabalex/AstralChain2Blender">AstralChain2Blender</a> - <a href="https://github.com/cabalex/Blender2AstralChain">Blender2AstralChain</a> - <a href="https://cabalex.github.io/astral-chain-romfs/">RomFS Documentation</a></p>
		</div>
	</div>
	<dialog open id="alert">
		<dialog open id="alert-title">
			<h1>Hold on...</h1>
		</dialog>
	</dialog>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="scripts/loader.js" type="text/javascript"></script>
	<script src="scripts/zstd.js" type="text/javascript"></script>
	<script src="scripts/zip.min.js" type="text/javascript"></script>
	<script src="scripts/filesaver.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		function minimize(elem) {
			$(elem).closest('div').find('div').css('display', 'none')
			$(elem).replaceWith("<a class='maximize' onclick='maximize(this)'><span class='material-icons'>expand_more</span></a>")
		}
		function maximize(elem) {
			$(elem).closest('div').find('div').css('display', '')
			$(elem).replaceWith("<a class='minimize' onclick='minimize(this)'><span class='material-icons'>expand_less</span></a>")
		}


		$("#name").text('astral extractor v0.2.0') // VERSION NUMBER

		
	</script>
</body>
</html>	